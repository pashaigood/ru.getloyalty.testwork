!function(){"use strict";angular.module("testWork",[])}(),function(){function e(){var e={restrict:"A",link:function(e,t){t.on("keypress",function(e){","==String.fromCharCode(e.which)&&(/\./.test(t.val())||t.val(t.val()+"."),e.preventDefault())})}};return e}angular.module("testWork").directive("keypressMaskerade",e)}(),function(){function e(e){var t=e("orderBy");return{getData:function(){return[[{Name:"Item 1",Percent:"20,4"}],[{Name:"Item 1",Percent:20},{Name:"Item 2",Percent:40}],[{Name:"Item 1",Percent:20},{Name:"Item 2",Percent:30},{Name:"Item 3",Percent:50}],[{Name:"Item 1",Percent:"20,67"},{Name:"Item 2",Percent:"40.45"},{Name:"Item 3",Percent:60},{Name:"Item 4",Percent:0}]]},normalize:function(e,t){var n,a=this,r=0,c=t?100-t.Percent:100;angular.forEach(e,function(e){t!==e&&(r+=e.Percent)}),c!==r&&(n=r>0?c/r:0,angular.forEach(e,function(e){t!==e&&(e.Percent*=n),a.finalizeElement(e)}))},finalizeElement:function(e){e.Percent=Math.round(100*e.Percent)/100,e._Percent=e.Percent},format:function(e){angular.isString(e.Percent)&&(e.Percent=e.Percent.replace(",","."),e.Percent=parseFloat(e.Percent))},recalculate:function(e,n){n.Percent=n.Percent>0?n.Percent:0,n.Percent=n.Percent<100?n.Percent:100;var a,r=n.Percent,c=n._Percent,i=[];if(c>r)i=t(e,["Percent","Name"]);else{if(!(r>c))return;i=t(e,["-Percent","Name"])}for(var l=i.length;(l-=1)>-1;){for(;(a=i.shift())===n;);if(a){var o=a.Percent+(c-r);if(0>o){c=r+o,a.Percent=0,this.finalizeElement(a);continue}o>100?a.Percent=100:a.Percent=o,this.finalizeElement(a),this.finalizeElement(n);break}}}}}angular.module("testWork").factory("dataFactory",e),e.$inject=["$filter"]}(),function(){"use strict";function e(e){function t(){var t=n.data=e.getData();n.data.length&&n.selectSet(t[t.length-1])}var n=this;n.selectSet=function(t){n.dataSet=t,angular.forEach(t,function(t){e.format(t)}),e.normalize(n.dataSet)},n.change=function(t){e.format(t),e.recalculate(n.dataSet,t),e.normalize(n.dataSet,t)},t()}angular.module("testWork").controller("MainController",e),e.$inject=["dataFactory"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("testWork").run(e),e.$inject=["$log"]}(),function(){"use strict";angular.module("testWork").constant("empty",!1)}(),function(){"use strict";function e(e){e.debugEnabled(!0)}angular.module("testWork").config(e),e.$inject=["$logProvider"]}(),angular.module("testWork").run(["$templateCache",function(e){e.put("app/main/main.html",'<nav><ul class="pagination"><li ng-repeat="set in main.data" ng-class="{\'active\': set == main.dataSet}"><a href="#" ng-click="main.selectSet(set)">Набор данных {{$index+1}}</a></li></ul></nav><ul class="list-unstyled"><li ng-repeat="item in main.dataSet"><div class="row form-group"><div class="col-xs-10"><input class="form-control" type="range" ng-model="item.Percent" ng-change="main.change(item)"></div><div class="col-xs-2"><input class="form-control" tabindex="{{$index+1}}" type="number" ng-model="item.Percent" ng-change="main.change(item)" keypress-maskerade=""></div></div></li></ul><ul class="list-unstyled"><li ng-repeat="item in main.dataSet">{{item.Name}}: {{item.Percent}}%</li></ul>')}]);
//# sourceMappingURL=../maps/scripts/app-5b23712444.js.map